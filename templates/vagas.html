{% extends "base.html" %}

{% block conteudo %}
<h2>Oportunidades Dispon√≠veis</h2>

<div class="layout-vagas">
    <!-- FILTROS -->
    <aside class="filtros">
        <h3>Pesquisa Avan√ßada</h3>
        <form method="GET" action="/vagas">
            <label for="cidade">Cidade:</label>
            <input type="text" id="cidade" name="cidade">

            <label for="zona">Zona:</label>
            <input type="text" id="zona" name="zona">

            <label for="horario">Tipo de Hor√°rio:</label>
            <select id="horario" name="horario">
                <option value="">-- Escolher --</option>
                <option value="part-time">Part-time</option>
                <option value="full-time">Full-time</option>
                <option value="remoto">Remoto</option>
            </select>

            <label for="tipo">Tipo de Oportunidade:</label>
            <select id="tipo" name="tipo">
                <option value="">-- Escolher --</option>
                <option value="emprego">Emprego</option>
                <option value="estagio">Est√°gio</option>
                <option value="bolsa">Bolsa</option>
            </select>

            <button type="submit">Filtrar</button>
        </form>
    </aside>

    <!-- LISTAGEM DE VAGAS -->
    <section class="vagas-lista">
        {% for vaga in vagas %}
            <div class="vaga-card">
                <h3>{{ vaga.titulo }}</h3>
                <p><b>Cidade:</b> {{ vaga.cidade }}</p>
                <p><b>Hor√°rio:</b> {{ vaga.horario }}</p>
                <p><b>Tipo:</b> {{ vaga.tipo }}</p>
                <p>{{ vaga.descricao[:120] }}...</p>

                <a href="{{ url_for('detalhes_vaga', vaga_id=vaga.id) }}">üëÅ Ver detalhes</a>
            </div>
        {% else %}
            <p>Nenhuma vaga dispon√≠vel no momento.</p>
        {% endfor %}
    </section>
</div>
{% endblock %}
