{% extends "base.html" %}
{% block conteudo %}
<h2 style="margin-bottom:20px;">Gerir Utilizadores</h2>

<div style="background:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.1);">
  <table style="width:100%;border-collapse:collapse;font-size:14px;">
    <thead>
      <tr style="background:#6f42c1;color:#fff;text-align:left;">
        <th style="padding:12px;border-radius:8px 0 0 0;">Nome</th>
        <th>Email</th>
        <th>Tipo</th>
        <th style="padding:12px;border-radius:0 8px 0 0;">Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for u in utilizadores %}
      <tr style="border-bottom:1px solid #ddd;">
        <td style="padding:10px;">{{ u.nome }}</td>
        <td style="padding:10px;">{{ u.email }}</td>
        <td style="padding:10px;">
          <span style="background:{{ 'green' if u.tipo=='estudante' else 'blue' if u.tipo=='empresa' else 'black' }};
                       color:#fff;padding:4px 8px;border-radius:6px;font-size:12px;">
            {{ u.tipo }}
          </span>
        </td>
        <td style="padding:10px;">
          <a href="{{ url_for('editar_utilizador', utilizador_id=u.id) }}"
             style="margin-right:10px;background:#cca8df;color:#000;padding:6px 12px;border-radius:6px;
                    font-size:13px;text-decoration:none;font-weight:600;">
            Editar
          </a>
          <form method="POST" action="{{ url_for('remover_utilizador', utilizador_id=u.id) }}"
                style="display:inline;" onsubmit="return confirm('Tem certeza que deseja remover este utilizador?');">
            <button type="submit"
                    style="background:#dc3545;color:#fff;padding:6px 12px;border:none;border-radius:6px;
                           font-size:13px;font-weight:600;cursor:pointer;">
              Remover
            </button>
          </form>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="4" style="padding:15px;text-align:center;color:#777;">
          Nenhum utilizador registado.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div style="margin-top:30px;text-align:center;">
  <a href="{{ url_for('pagina_admin') }}"
     style="background:#6c757d;color:#fff;padding:10px 20px;border-radius:6px;
            text-decoration:none;font-weight:600;transition:all .3s ease;"
     onmouseover="this.style.background='#2c0f3e';this.style.transform='scale(1.05)';"
     onmouseout="this.style.background='#6c757d';this.style.transform='scale(1)';">
    Voltar ao Painel Admin
  </a>
</div>

{% endblock %}