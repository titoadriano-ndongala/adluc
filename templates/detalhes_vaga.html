{% extends "base.html" %}
{% block conteudo %}

<div style="max-width:800px;margin:auto;margin-top:30px;background:#fff;padding:30px;
            border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,0.1);">

  <!-- CabeÃ§alho da vaga -->
  <h2 style="margin:0 0 15px;font-size:24px;color:#333;">{{ vaga.titulo }}</h2>
  <span style="display:inline-block;background:{% if vaga.externa %}#3366cc{% else %}#27ae60{% endif %};
               color:#fff;padding:4px 10px;border-radius:6px;font-size:13px;font-weight:600;">
    {% if vaga.externa %}Vaga Externa{% else %}Vaga Interna{% endif %}
  </span>

  <!-- DescriÃ§Ã£o -->
  <p style="margin-top:20px;font-size:15px;line-height:1.7;color:#444;">
    {{ vaga.descricao }}
  </p>

  <!-- Info adicional -->
  <div style="margin-top:20px;display:flex;flex-wrap:wrap;gap:15px;font-size:14px;color:#555;">
    {% if vaga.categoria %}
      <span style="background:#f4f4f4;padding:6px 12px;border-radius:6px;">ğŸ“‚ {{ vaga.categoria }}</span>
    {% endif %}
    {% if vaga.cidade %}
      <span style="background:#f4f4f4;padding:6px 12px;border-radius:6px;">ğŸ“ {{ vaga.cidade }}</span>
    {% endif %}
    {% if vaga.horario %}
      <span style="background:#f4f4f4;padding:6px 12px;border-radius:6px;">â° {{ vaga.horario }}</span>
    {% endif %}
    {% if vaga.tipo %}
      <span style="background:#f4f4f4;padding:6px 12px;border-radius:6px;">ğŸ“‘ {{ vaga.tipo }}</span>
    {% endif %}
  </div>

  <!-- Candidatura -->
  {% if not vaga.externa %}
    <hr style="margin:25px 0;border:none;border-top:1px solid #eee;">

    <h3 style="font-size:18px;color:#333;margin-bottom:10px;">Enviar Candidatura</h3>

    {% if erro_upload %}
      <div style="background:#f8d7da;color:#721c24;padding:10px 15px;border-radius:6px;margin-bottom:15px;">
        âš ï¸ {{ erro_upload }}
      </div>
    {% endif %}

    {% if sucesso %}
      <div style="background:#d4edda;color:#155724;padding:10px 15px;border-radius:6px;margin-bottom:15px;">
        âœ… Candidatura enviada com sucesso!
      </div>
    {% endif %}

    <form method="POST" enctype="multipart/form-data" style="display:flex;flex-direction:column;gap:15px;">
      <input type="file" name="cv"
             style="padding:10px;border:1px solid #ccc;border-radius:6px;font-size:14px;">

      <div style="display:flex;gap:10px;">
        <button type="submit"
                style="flex:1;background:#6a199c;color:#fff;border:none;padding:12px;border-radius:6px;
                       font-size:15px;font-weight:600;cursor:pointer;transition:background .3s;"
                onmouseover="this.style.background='#2c0f3e';"
                onmouseout="this.style.background='#882bbf';">
          Candidatar-se
        </button>

        <a href="{{ url_for('pagina_vagas') }}"
           style="flex:1;text-align:center;background:#777;color:#fff;padding:12px;border-radius:6px;
                  text-decoration:none;font-weight:600;transition:background .3s;"
           onmouseover="this.style.background='#555';"
           onmouseout="this.style.background='#777';">
          Voltar Ã s Vagas
        </a>
      </div>
    </form>
  {% else %}
    <hr style="margin:25px 0;border:none;border-top:1px solid #eee;">
    <a href="{{ vaga.link_externo }}" target="_blank"
       style="display:inline-block;background:#c565fa;color:#fff;padding:12px 20px;border-radius:6px;
              font-size:15px;font-weight:600;text-decoration:none;transition:background .3s;"
       onmouseover="this.style.background='#2c0f3e';"
       onmouseout="this.style.background='#6a199c';">
      ğŸŒ Aceder Ã  Vaga Externa
    </a>
  {% endif %}

</div>





{% if aviso %}
<div id="overlay-msg" style="
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.65);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
">
  <div style="background:#fff;padding:30px;max-width:500px;width:90%;
              border-radius:10px;text-align:center;
              box-shadow:0 4px 12px rgba(0,0,0,0.2);">
    <h3 style="margin-bottom:15px;color:#333;">ATENÃ‡ÃƒO</h3>
    <p style="font-size:15px;color:#444;line-height:1.5;">
      {{ aviso }}
    </p>
    <button onclick="document.getElementById('overlay-msg').style.display='none'"
            style="margin-top:20px;background:#3366cc;color:#fff;
                   border:none;padding:10px 20px;border-radius:6px;
                   cursor:pointer;font-weight:600;">
      OK, entendi
    </button>
  </div>
</div>
{% endif %}







{% endblock %}
